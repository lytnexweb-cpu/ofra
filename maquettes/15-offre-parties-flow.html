<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>M15 — Flow Offre + Parties (C2/C6)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@600;700&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Inter', system-ui, sans-serif; background: #f8f8f7; color: #1c1917; }

  /* ── Tabs navigation ── */
  .tabs { display: flex; gap: 0; background: #fff; border-bottom: 1px solid #e7e5e4; padding: 0 24px; position: sticky; top: 0; z-index: 10; }
  .tab { padding: 14px 20px; font-size: 12px; font-weight: 600; color: #78716c; cursor: pointer; border-bottom: 2px solid transparent; transition: all .15s; }
  .tab:hover { color: #1e3a5f; }
  .tab.active { color: #1e3a5f; border-bottom-color: #1e3a5f; }

  /* ── Scenes ── */
  .scene { display: none; padding: 24px; max-width: 900px; margin: 0 auto; }
  .scene.active { display: block; }

  /* ── Panel card ── */
  .panel { background: #fff; border-radius: 12px; border: 1px solid #e7e5e4; box-shadow: 0 1px 2px rgba(0,0,0,.04); overflow: hidden; }
  .panel-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; }
  .panel-title { font-size: 13px; font-weight: 600; color: #44403c; display: flex; align-items: center; gap: 8px; }
  .panel-title svg { width: 16px; height: 16px; color: #a8a29e; }
  .panel-title .count { font-weight: 400; color: #a8a29e; }
  .panel-actions { display: flex; gap: 6px; align-items: center; }

  /* ── Buttons ── */
  .btn { display: inline-flex; align-items: center; gap: 5px; padding: 6px 12px; border-radius: 8px; font-size: 11px; font-weight: 600; cursor: pointer; border: none; transition: all .15s; }
  .btn-primary { background: #1e3a5f; color: #fff; }
  .btn-primary:hover { background: #16304d; }
  .btn-outline { background: #fff; color: #44403c; border: 1px solid #d6d3d1; }
  .btn-outline:hover { background: #fafaf9; border-color: #1e3a5f; color: #1e3a5f; }
  .btn-accept { background: #059669; color: #fff; }
  .btn-accept:hover { background: #047857; }
  .btn-counter { background: #3b82f6; color: #fff; }
  .btn-counter:hover { background: #2563eb; }
  .btn-reject { background: #ef4444; color: #fff; }
  .btn-reject:hover { background: #dc2626; }
  .btn-ghost { background: none; color: #78716c; border: none; }
  .btn-ghost:hover { background: #f5f5f4; }
  .btn-sm { padding: 4px 10px; font-size: 10px; }

  /* ── Offer card ── */
  .offer-card { border: 1px solid #bfdbfe; background: #eff6ff08; border-radius: 8px; margin: 0 12px 8px; overflow: hidden; }
  .offer-card.countered { border-color: #fde68a; background: #fffbeb08; }
  .offer-card.accepted { border-color: #a7f3d0; background: #ecfdf508; }
  .offer-header { display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; cursor: pointer; }
  .offer-header:hover { background: rgba(0,0,0,.02); }
  .offer-left { display: flex; align-items: center; gap: 8px; }
  .offer-right { display: flex; align-items: center; gap: 10px; }

  /* ── Badges ── */
  .badge { display: inline-flex; padding: 2px 8px; border-radius: 20px; font-size: 10px; font-weight: 600; }
  .badge-received { background: #dbeafe; color: #1d4ed8; }
  .badge-countered { background: #fef3c7; color: #b45309; }
  .badge-accepted { background: #d1fae5; color: #047857; }
  .badge-rejected { background: #fecaca; color: #dc2626; }

  .price { font-size: 13px; font-weight: 600; color: #1c1917; }
  .date { font-size: 10px; color: #a8a29e; }

  /* ── Context banner ── */
  .ctx-banner { display: flex; align-items: center; gap: 8px; padding: 8px 14px; border-top: 1px solid; font-size: 11px; font-weight: 500; }
  .ctx-banner.your-turn { background: #eff6ff; border-color: #bfdbfe; color: #1d4ed8; }
  .ctx-banner.waiting { background: #fafaf9; border-color: #e7e5e4; color: #78716c; }
  .ctx-dot { width: 6px; height: 6px; border-radius: 50%; }
  .ctx-banner.your-turn .ctx-dot { background: #3b82f6; }
  .ctx-banner.waiting .ctx-dot { background: #a8a29e; }

  /* ── Action row ── */
  .action-row { display: flex; flex-wrap: wrap; gap: 6px; padding: 10px 14px; border-top: 1px solid #e7e5e4; }
  .action-row.right { justify-content: flex-end; }

  /* ── Thread ── */
  .thread { padding: 10px 14px; border-top: 1px solid #f5f5f4; }
  .thread-node { display: flex; gap: 10px; }
  .thread-rail { display: flex; flex-direction: column; align-items: center; width: 12px; }
  .thread-dot { width: 8px; height: 8px; border-radius: 50%; margin-top: 4px; flex-shrink: 0; }
  .thread-dot.first { background: #059669; }
  .thread-dot.mid { background: #d6d3d1; }
  .thread-dot.last { background: #1e3a5f; box-shadow: 0 0 0 3px rgba(30,58,95,.15); }
  .thread-line { width: 1px; flex: 1; background: #e7e5e4; min-height: 20px; }
  .thread-content { flex: 1; padding-bottom: 10px; }
  .thread-label { font-size: 11px; font-weight: 500; color: #57534e; display: flex; align-items: center; gap: 6px; }
  .thread-label.latest { color: #1e3a5f; font-weight: 600; }
  .thread-price { font-size: 12px; font-weight: 600; color: #1c1917; margin-top: 2px; }
  .thread-dir { font-size: 9px; color: #a8a29e; display: flex; align-items: center; gap: 3px; }
  .thread-delta { font-size: 9px; font-weight: 500; margin-top: 1px; }
  .thread-delta.up { color: #059669; }
  .thread-delta.down { color: #ef4444; }
  .tag-latest { font-size: 8px; font-weight: 700; text-transform: uppercase; background: #1e3a5f; color: #fff; padding: 1px 5px; border-radius: 20px; }

  /* ── Intake link ── */
  .intake { margin: 0 12px 8px; padding: 10px 14px; border: 1px dashed #d6d3d1; border-radius: 8px; background: #fafaf950; display: flex; align-items: center; gap: 10px; }
  .intake-icon { width: 28px; height: 28px; border-radius: 8px; background: #eff6ff; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
  .intake-icon svg { width: 14px; height: 14px; color: #3b82f6; }
  .intake-text { flex: 1; }
  .intake-text p { font-size: 11px; color: #78716c; }
  .intake-text p strong { color: #44403c; }

  /* ── Modal overlay ── */
  .modal-overlay { display: none; position: fixed; inset: 0; z-index: 50; align-items: center; justify-content: center; padding: 16px; }
  .modal-overlay.show { display: flex; }
  .modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,.5); }
  .modal { position: relative; z-index: 1; background: #fff; border-radius: 16px; width: 100%; max-width: 820px; max-height: 90vh; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,.2); display: flex; flex-direction: column; }

  /* ── Modal header ── */
  .modal-head { padding: 16px 24px; border-bottom: 1px solid #e7e5e4; display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; }
  .modal-head-left { display: flex; gap: 12px; align-items: flex-start; }
  .modal-icon { width: 40px; height: 40px; border-radius: 10px; background: rgba(30,58,95,.08); display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
  .modal-icon svg { width: 18px; height: 18px; color: #1e3a5f; }
  .modal-title { font-family: 'Outfit', sans-serif; font-size: 15px; font-weight: 700; color: #1c1917; }
  .modal-subtitle { font-size: 11px; color: #78716c; margin-top: 2px; }
  .modal-close { width: 32px; height: 32px; border-radius: 8px; border: none; background: none; cursor: pointer; display: flex; align-items: center; justify-content: center; color: #a8a29e; }
  .modal-close:hover { background: #f5f5f4; }

  /* ── Modal body (two columns) ── */
  .modal-body { display: grid; grid-template-columns: 1fr 1fr; flex: 1; overflow: hidden; }
  .modal-col-left { padding: 20px 24px; overflow-y: auto; }
  .modal-col-right { border-left: 1px solid #e7e5e4; background: #fafaf9; padding: 20px 24px; overflow-y: auto; }

  /* ── Form elements ── */
  .field { margin-bottom: 14px; }
  .field-label { display: block; font-size: 11px; font-weight: 600; color: #57534e; margin-bottom: 6px; }
  .field-label .req { color: #f87171; }
  .field-input { width: 100%; padding: 8px 12px; font-size: 13px; border-radius: 8px; border: 1px solid #d6d3d1; outline: none; font-family: inherit; transition: all .15s; }
  .field-input:focus { border-color: #1e3a5f; box-shadow: 0 0 0 3px rgba(30,58,95,.1); }
  .field-input.error { border-color: #dc2626; background: #fef2f2; }
  .field-error { font-size: 10px; color: #dc2626; margin-top: 4px; }
  .field-hint { font-size: 10px; color: #a8a29e; margin-top: 3px; }
  .field-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

  /* ── Party picker ── */
  .pp { position: relative; }
  .pp-trigger { width: 100%; display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; font-size: 13px; border-radius: 8px; border: 1px solid #d6d3d1; background: #fff; cursor: pointer; transition: all .15s; }
  .pp-trigger:hover { border-color: #1e3a5f; }
  .pp-trigger .placeholder { color: #a8a29e; }
  .pp-trigger .selected { color: #1c1917; font-weight: 500; }
  .pp-trigger svg { width: 14px; height: 14px; color: #a8a29e; }
  .pp-trigger.error { border-color: #dc2626; background: #fef2f2; }

  .pp-dropdown { position: absolute; z-index: 20; top: calc(100% + 4px); left: 0; right: 0; background: #fff; border-radius: 8px; border: 1px solid #d6d3d1; box-shadow: 0 8px 24px rgba(0,0,0,.12); max-height: 240px; overflow-y: auto; }
  .pp-item { display: flex; align-items: center; gap: 8px; padding: 8px 12px; cursor: pointer; font-size: 12px; }
  .pp-item:hover { background: #fafaf9; }
  .pp-item-name { font-weight: 500; color: #1c1917; }
  .pp-item-email { font-size: 10px; color: #a8a29e; }
  .pp-item-check { width: 14px; height: 14px; color: #059669; margin-left: auto; }
  .pp-divider { height: 1px; background: #f5f5f4; }

  .pp-add-btn { display: flex; align-items: center; gap: 6px; padding: 10px 12px; font-size: 12px; font-weight: 500; color: #1e3a5f; cursor: pointer; width: 100%; border: none; background: none; }
  .pp-add-btn:hover { background: #fafaf9; }
  .pp-add-btn svg { width: 14px; height: 14px; }

  .pp-inline { padding: 12px; }
  .pp-inline input { width: 100%; padding: 6px 10px; font-size: 12px; border-radius: 6px; border: 1px solid #d6d3d1; outline: none; margin-bottom: 6px; font-family: inherit; }
  .pp-inline input:focus { border-color: #1e3a5f; }
  .pp-inline-actions { display: flex; gap: 6px; margin-top: 2px; }
  .pp-inline-create { flex: 1; display: flex; align-items: center; justify-content: center; gap: 4px; padding: 6px; font-size: 11px; font-weight: 500; border-radius: 6px; background: #1e3a5f; color: #fff; border: none; cursor: pointer; }
  .pp-inline-create:hover { background: #16304d; }
  .pp-inline-cancel { padding: 6px 10px; font-size: 11px; color: #78716c; background: none; border: none; cursor: pointer; border-radius: 6px; }
  .pp-inline-cancel:hover { background: #f5f5f4; }
  .pp-inline-error { font-size: 10px; color: #dc2626; margin-bottom: 4px; }

  /* ── Segmented control ── */
  .segmented { display: inline-flex; border-radius: 8px; border: 1px solid #e7e5e4; background: #f5f5f4; padding: 3px; gap: 2px; }
  .seg-btn { padding: 6px 16px; border-radius: 6px; font-size: 11px; font-weight: 500; color: #78716c; border: none; background: none; cursor: pointer; transition: all .15s; }
  .seg-btn.active { background: #fff; color: #1e3a5f; box-shadow: 0 1px 2px rgba(0,0,0,.06); }

  /* ── Expiry pills ── */
  .pills { display: flex; gap: 6px; flex-wrap: wrap; }
  .pill { padding: 6px 14px; border-radius: 20px; font-size: 11px; font-weight: 500; border: 1px solid #d6d3d1; background: #fff; color: #57534e; cursor: pointer; transition: all .15s; }
  .pill:hover { border-color: #1e3a5f; color: #1e3a5f; }
  .pill.active { background: #1e3a5f; color: #fff; border-color: #1e3a5f; }

  /* ── Summary card ── */
  .summary { border-radius: 8px; border: 1px solid #e7e5e4; background: #fafaf9; padding: 12px; margin-top: 16px; }
  .summary-row { display: flex; justify-content: space-between; font-size: 11px; padding: 4px 0; }
  .summary-row .label { color: #78716c; }
  .summary-row .val { font-weight: 500; color: #1c1917; }
  .summary-row .val.positive { color: #059669; }
  .summary-row .val.negative { color: #e07a2f; }
  .summary-divider { border-top: 1px dashed #e7e5e4; margin: 4px 0; }

  /* ── Draft preview ── */
  .draft { border-radius: 8px; border: 1px dashed rgba(30,58,95,.3); background: #fff; padding: 12px; position: relative; }
  .draft-badge { position: absolute; top: 8px; right: 8px; font-size: 8px; font-weight: 700; text-transform: uppercase; background: rgba(30,58,95,.08); color: #1e3a5f; padding: 2px 6px; border-radius: 4px; letter-spacing: .5px; }
  .draft-row { display: flex; justify-content: space-between; font-size: 11px; padding: 3px 0; }
  .draft-row .label { color: #78716c; }
  .draft-row .val { font-weight: 500; color: #1c1917; }
  .draft-dir { font-size: 10px; color: #a8a29e; margin-top: 6px; padding-top: 6px; border-top: 1px solid #f5f5f4; }

  /* ── Modal footer ── */
  .modal-foot { padding: 14px 24px; border-top: 1px solid #e7e5e4; background: #fafaf9; display: flex; align-items: center; justify-content: space-between; }
  .modal-foot-left { display: flex; align-items: center; gap: 6px; font-size: 11px; color: #57534e; }
  .modal-foot-left input[type=checkbox] { width: 14px; height: 14px; accent-color: #1e3a5f; }
  .modal-foot-right { display: flex; gap: 8px; }

  /* ── Section header ── */
  .section-head { font-size: 10px; font-weight: 700; text-transform: uppercase; color: #78716c; letter-spacing: .5px; margin-bottom: 8px; }

  /* ── Toggle ── */
  .toggle-row { display: flex; align-items: center; justify-content: space-between; }
  .toggle { width: 36px; height: 20px; border-radius: 10px; background: #d6d3d1; position: relative; cursor: pointer; transition: background .2s; }
  .toggle.on { background: #1e3a5f; }
  .toggle .knob { width: 16px; height: 16px; border-radius: 50%; background: #fff; box-shadow: 0 1px 2px rgba(0,0,0,.15); position: absolute; top: 2px; left: 2px; transition: left .2s; }
  .toggle.on .knob { left: 18px; }

  /* ── Annotation ── */
  .anno { position: relative; }
  .anno::after { content: attr(data-anno); position: absolute; right: -8px; top: -6px; transform: translateX(100%); font-size: 10px; font-weight: 600; color: #1e3a5f; background: #dbeafe; padding: 2px 8px; border-radius: 4px; white-space: nowrap; pointer-events: none; }

  /* ── Comparison table ── */
  .compare { border: 1px solid #e7e5e4; border-radius: 8px; margin: 8px 12px; overflow: hidden; }
  .compare-head { background: #fafaf9; padding: 10px 14px; border-bottom: 1px solid #e7e5e4; display: flex; align-items: center; justify-content: space-between; }
  .compare-head h4 { font-size: 11px; font-weight: 600; color: #44403c; }
  .compare table { width: 100%; font-size: 11px; border-collapse: collapse; }
  .compare th { text-align: left; padding: 8px 12px; font-weight: 600; color: #44403c; border-bottom: 1px solid #e7e5e4; background: #fafaf9; }
  .compare td { padding: 8px 12px; border-bottom: 1px solid #f5f5f4; color: #57534e; }
  .compare td.best { color: #047857; font-weight: 600; background: #ecfdf5; }
  .compare td.worst { color: #dc2626; background: #fef2f2; }
  .compare-actions { padding: 8px 12px; display: flex; justify-content: center; }

  /* ── Scene label ── */
  .scene-label { font-family: 'Outfit', sans-serif; font-size: 18px; font-weight: 700; color: #1c1917; margin-bottom: 6px; }
  .scene-desc { font-size: 12px; color: #78716c; margin-bottom: 20px; }
  .scene-note { font-size: 10px; color: #a8a29e; font-style: italic; margin-top: 12px; padding: 8px 12px; background: #fafaf9; border-radius: 8px; border-left: 3px solid #1e3a5f; }

  /* ── Arrow icon inline ── */
  .arrow-r { display: inline-block; width: 10px; height: 10px; }
</style>
</head>
<body>

<!-- ═══════════════════ TABS ═══════════════════ -->
<div class="tabs">
  <div class="tab active" onclick="showScene('s1')">1. Buyer — Panel</div>
  <div class="tab" onclick="showScene('s2')">2. Seller — Panel</div>
  <div class="tab" onclick="showScene('s3')">3. Créer offre</div>
  <div class="tab" onclick="showScene('s4')">4. PartyPicker +</div>
  <div class="tab" onclick="showScene('s5')">5. Contre-offre</div>
  <div class="tab" onclick="showScene('s6')">6. Comparateur</div>
</div>

<!-- ═══════════════════ SCENE 1: BUYER PANEL ═══════════════════ -->
<div class="scene active" id="s1">
  <div class="scene-label">Vue Acheteur — "Mes offres"</div>
  <div class="scene-desc">L'agent représente l'acheteur. CTA primaire "Soumettre une offre", pas de lien intake, actions contextuelles selon le tour.</div>

  <div class="panel">
    <div class="panel-header">
      <div class="panel-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><path d="M14 2v6h6"/></svg>
        Mes offres <span class="count">(2)</span>
      </div>
      <div class="panel-actions">
        <button class="btn btn-primary btn-sm">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
          Soumettre une offre
        </button>
      </div>
    </div>

    <!-- Offer 1: We sent, waiting response -->
    <div class="offer-card countered">
      <div class="offer-header">
        <div class="offer-left">
          <span class="badge badge-countered">Contre-offre</span>
          <span class="price">285 000 $</span>
        </div>
        <div class="offer-right">
          <span class="date">il y a 2h</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
        </div>
      </div>
      <div class="thread">
        <div class="thread-node">
          <div class="thread-rail"><div class="thread-dot first"></div><div class="thread-line"></div></div>
          <div class="thread-content">
            <div class="thread-label">Offre initiale</div>
            <div class="thread-price">275 000 $</div>
            <div class="thread-dir">Jean Tremblay <span class="arrow-r">&rarr;</span> Marie Dupuis</div>
          </div>
        </div>
        <div class="thread-node">
          <div class="thread-rail"><div class="thread-dot mid"></div><div class="thread-line"></div></div>
          <div class="thread-content">
            <div class="thread-label">Contre-offre #2</div>
            <div class="thread-price">290 000 $</div>
            <div class="thread-dir">Marie Dupuis <span class="arrow-r">&rarr;</span> Jean Tremblay</div>
            <div class="thread-delta up">+15 000 $</div>
          </div>
        </div>
        <div class="thread-node">
          <div class="thread-rail"><div class="thread-dot last"></div></div>
          <div class="thread-content">
            <div class="thread-label latest">Contre-offre #3 <span class="tag-latest">Dernière</span></div>
            <div class="thread-price">285 000 $</div>
            <div class="thread-dir">Jean Tremblay <span class="arrow-r">&rarr;</span> Marie Dupuis</div>
            <div class="thread-delta down">-5 000 $</div>
          </div>
        </div>
      </div>
      <div class="ctx-banner waiting">
        <div class="ctx-dot"></div>
        Vous avez soumis cette offre — En attente de réponse
      </div>
      <div class="action-row right">
        <button class="btn btn-ghost btn-sm">Retirer</button>
      </div>
    </div>

    <!-- Offer 2: Received, our turn -->
    <div class="offer-card">
      <div class="offer-header">
        <div class="offer-left">
          <span class="badge badge-received">Reçue</span>
          <span class="price">280 000 $</span>
        </div>
        <div class="offer-right">
          <span class="date">il y a 1j</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
        </div>
      </div>
      <div class="ctx-banner your-turn">
        <div class="ctx-dot"></div>
        Offre reçue de Marie Dupuis — C'est à vous de répondre
      </div>
      <div class="action-row">
        <button class="btn btn-accept btn-sm">Accepter</button>
        <button class="btn btn-counter btn-sm">Contre-offre</button>
        <button class="btn btn-reject btn-sm">Refuser</button>
      </div>
    </div>
  </div>

  <div class="scene-note">
    <strong>C6</strong> — Le buyer voit "Mes offres" (pas "Offres"), CTA primaire, pas de lien intake.<br>
    <strong>C6</strong> — Les boutons Accepter/Contre-offre/Refuser apparaissent UNIQUEMENT quand c'est notre tour (direction entrante). Sinon, seul "Retirer" apparaît.
  </div>
</div>

<!-- ═══════════════════ SCENE 2: SELLER PANEL ═══════════════════ -->
<div class="scene" id="s2">
  <div class="scene-label">Vue Vendeur — "Offres reçues"</div>
  <div class="scene-desc">L'agent représente le vendeur. CTA secondaire "Ajouter manuellement", lien intake visible, comparateur auto-ouvert si 2+ offres.</div>

  <div class="panel">
    <div class="panel-header">
      <div class="panel-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><path d="M14 2v6h6"/></svg>
        Offres reçues <span class="count">(2)</span>
      </div>
      <div class="panel-actions">
        <button class="btn btn-outline btn-sm" style="border-color:#1e3a5f; color:#1e3a5f;">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 7h12M8 12h12M8 17h12M3 7h.01M3 12h.01M3 17h.01"/></svg>
          Comparer
        </button>
        <button class="btn btn-outline btn-sm">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
          Ajouter manuellement
        </button>
      </div>
    </div>

    <!-- Intake link -->
    <div class="intake">
      <div class="intake-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg>
      </div>
      <div class="intake-text">
        <p><strong>Lien d'intake actif</strong></p>
        <p style="font-size:10px;color:#a8a29e;margin-top:2px;word-break:break-all;">https://app.ofra.ca/intake/abc123...</p>
      </div>
      <button class="btn btn-sm" style="background:#eff6ff;color:#2563eb;font-size:10px;">Copier</button>
      <button class="btn btn-ghost btn-sm" style="font-size:10px;color:#a8a29e;">Désactiver</button>
    </div>

    <!-- Offer 1 -->
    <div class="offer-card">
      <div class="offer-header">
        <div class="offer-left">
          <span class="badge badge-received">Reçue</span>
          <span class="price">285 000 $</span>
          <span class="date">Jean Tremblay</span>
        </div>
        <div class="offer-right">
          <span class="date">il y a 3h</span>
        </div>
      </div>
      <div class="ctx-banner your-turn">
        <div class="ctx-dot"></div>
        Offre reçue de Jean Tremblay — C'est à vous de répondre
      </div>
      <div class="action-row">
        <button class="btn btn-accept btn-sm">Accepter</button>
        <button class="btn btn-counter btn-sm">Contre-offre</button>
        <button class="btn btn-reject btn-sm">Refuser</button>
      </div>
    </div>

    <!-- Offer 2 -->
    <div class="offer-card">
      <div class="offer-header">
        <div class="offer-left">
          <span class="badge badge-received">Reçue</span>
          <span class="price">278 000 $</span>
          <span class="date">Pierre Bouchard</span>
        </div>
        <div class="offer-right">
          <span class="date">il y a 1j</span>
        </div>
      </div>
      <div class="ctx-banner your-turn">
        <div class="ctx-dot"></div>
        Offre reçue de Pierre Bouchard — C'est à vous de répondre
      </div>
      <div class="action-row">
        <button class="btn btn-accept btn-sm">Accepter</button>
        <button class="btn btn-counter btn-sm">Contre-offre</button>
        <button class="btn btn-reject btn-sm">Refuser</button>
      </div>
    </div>
  </div>

  <div class="scene-note">
    <strong>C6</strong> — Le seller voit "Offres reçues", CTA outline "Ajouter manuellement", lien intake visible.<br>
    <strong>C6</strong> — Comparateur auto-ouvert quand 2+ offres actives (useEffect).
  </div>
</div>

<!-- ═══════════════════ SCENE 3: CREATE OFFER MODAL ═══════════════════ -->
<div class="scene" id="s3">
  <div class="scene-label">Créer une offre — Modal complet</div>
  <div class="scene-desc">Formulaire deux colonnes : champs à gauche, aperçu + historique à droite. PartyPicker avec création inline.</div>

  <div class="modal" style="position:relative; max-height:none;">
    <div class="modal-head">
      <div class="modal-head-left">
        <div class="modal-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><path d="M14 2v6h6"/></svg>
        </div>
        <div>
          <div class="modal-title">Nouvelle offre</div>
          <div class="modal-subtitle">Tremblay · 123 rue Principale, Moncton</div>
        </div>
      </div>
      <button class="modal-close">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
      </button>
    </div>

    <div class="modal-body">
      <!-- LEFT: Form -->
      <div class="modal-col-left">
        <!-- Type -->
        <div class="field">
          <label class="field-label">Type</label>
          <div class="segmented">
            <button class="seg-btn active">Offre</button>
            <button class="seg-btn">Contre-offre</button>
          </div>
        </div>

        <!-- Party pickers -->
        <div class="field">
          <div class="field-row">
            <div class="pp">
              <label class="field-label">Acheteur <span class="req">*</span></label>
              <div class="pp-trigger">
                <span class="selected">Jean Tremblay</span>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
              </div>
            </div>
            <div class="pp">
              <label class="field-label">Vendeur <span class="req">*</span></label>
              <div class="pp-trigger">
                <span class="selected">Marie Dupuis</span>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Price -->
        <div class="field">
          <label class="field-label">Montant offert <span class="req">*</span></label>
          <input class="field-input" value="285 000" placeholder="0">
          <div class="field-hint">Demande : 299 000 $</div>
        </div>

        <!-- Deposit + deadline -->
        <div class="field">
          <div class="field-row">
            <div>
              <label class="field-label">Dépôt</label>
              <input class="field-input" value="5 000" placeholder="0">
            </div>
            <div>
              <label class="field-label">Échéance dépôt</label>
              <input class="field-input" type="date" value="2026-03-01">
            </div>
          </div>
        </div>

        <!-- Closing -->
        <div class="field">
          <label class="field-label">Date de clôture</label>
          <input class="field-input" type="date" value="2026-04-15">
        </div>

        <!-- Expiry -->
        <div class="field">
          <label class="field-label">Expiration de l'offre <span class="req">*</span></label>
          <div class="pills">
            <span class="pill">24h</span>
            <span class="pill active">48h</span>
            <span class="pill">7 jours</span>
            <span class="pill">Personnalisé</span>
          </div>
        </div>

        <!-- Financing toggle -->
        <div class="field">
          <div class="toggle-row">
            <label class="field-label" style="margin-bottom:0">Financement</label>
            <div class="toggle on"><div class="knob"></div></div>
          </div>
          <input class="field-input" value="228 000" placeholder="Montant" style="margin-top:8px">
        </div>

        <!-- Summary -->
        <div class="summary">
          <div class="summary-row"><span class="label">Demande</span><span class="val">299 000 $</span></div>
          <div class="summary-row"><span class="label">Offert</span><span class="val">285 000 $</span></div>
          <div class="summary-divider"></div>
          <div class="summary-row"><span class="label">Écart</span><span class="val negative">-14 000 $ (-4.7%)</span></div>
          <div class="summary-row"><span class="label">Expire</span><span class="val">dans 48h</span></div>
        </div>
      </div>

      <!-- RIGHT: Preview + History -->
      <div class="modal-col-right">
        <div class="section-head">Aperçu brouillon</div>
        <div class="draft">
          <div class="draft-badge">Brouillon</div>
          <div class="draft-row"><span class="label">Prix</span><span class="val">285 000 $</span></div>
          <div class="draft-row"><span class="label">Dépôt</span><span class="val">5 000 $</span></div>
          <div class="draft-row"><span class="label">Clôture</span><span class="val">15 avr. 2026</span></div>
          <div class="draft-row"><span class="label">Expire</span><span class="val">48h</span></div>
          <div class="draft-row"><span class="label">Financement</span><span class="val">228 000 $</span></div>
          <div class="draft-dir">Jean Tremblay &rarr; Marie Dupuis</div>
        </div>

        <div style="margin-top:20px">
          <div class="section-head" style="display:flex;align-items:center;gap:6px;">
            Historique
            <span style="background:#1e3a5f;color:#fff;font-size:10px;font-weight:700;padding:1px 6px;border-radius:20px;">0</span>
          </div>
          <div style="text-align:center;padding:24px 0;">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#d6d3d1" stroke-width="1.5" style="margin:0 auto 8px;display:block;"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
            <p style="font-size:12px;color:#78716c;font-weight:500;">Aucune offre</p>
            <p style="font-size:10px;color:#a8a29e;margin-top:2px;">La première offre apparaîtra ici</p>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-foot">
      <div class="modal-foot-left">
        <input type="checkbox" checked>
        <span style="font-weight:600">M'envoyer une confirmation par email</span>
      </div>
      <div class="modal-foot-right">
        <button class="btn btn-outline">Annuler</button>
        <button class="btn btn-primary">
          Soumettre
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </button>
      </div>
    </div>
  </div>

  <div class="scene-note">
    <strong>C2</strong> — Les PartyPicker (acheteur/vendeur) sont requis. Erreur rouge si vide au submit.<br>
    <strong>C2</strong> — Le "+" dans chaque picker ouvre un formulaire inline (voir tab 4).<br>
    <strong>C6</strong> — La direction est auto-déduite du clientRole : buyer = buyer→seller, seller = seller→buyer.
  </div>
</div>

<!-- ═══════════════════ SCENE 4: PARTY PICKER DETAIL ═══════════════════ -->
<div class="scene" id="s4">
  <div class="scene-label">PartyPicker — Création inline "+""</div>
  <div class="scene-desc">Trois états du picker : sélection, dropdown ouvert, formulaire de création inline.</div>

  <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:24px;">
    <!-- State 1: Closed with selection -->
    <div style="background:#fff;border-radius:12px;border:1px solid #e7e5e4;padding:20px;">
      <p style="font-size:10px;font-weight:700;text-transform:uppercase;color:#78716c;margin-bottom:12px;letter-spacing:.5px;">État 1 — Fermé</p>
      <div class="pp">
        <label class="field-label">Acheteur <span class="req">*</span></label>
        <div class="pp-trigger">
          <span class="selected">Jean Tremblay</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
        </div>
      </div>
    </div>

    <!-- State 2: Dropdown open -->
    <div style="background:#fff;border-radius:12px;border:1px solid #e7e5e4;padding:20px;position:relative;overflow:visible;">
      <p style="font-size:10px;font-weight:700;text-transform:uppercase;color:#78716c;margin-bottom:12px;letter-spacing:.5px;">État 2 — Dropdown ouvert</p>
      <div class="pp">
        <label class="field-label">Acheteur <span class="req">*</span></label>
        <div class="pp-trigger" style="border-color:#1e3a5f;box-shadow:0 0 0 3px rgba(30,58,95,.1);">
          <span class="selected">Jean Tremblay</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2" style="transform:rotate(180deg)"><path d="M6 9l6 6 6-6"/></svg>
        </div>
        <div class="pp-dropdown" style="position:relative;top:4px;">
          <div class="pp-item">
            <div>
              <div class="pp-item-name">Jean Tremblay</div>
              <div class="pp-item-email">jean@example.com</div>
            </div>
            <svg class="pp-item-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M20 6L9 17l-5-5"/></svg>
          </div>
          <div class="pp-item">
            <div>
              <div class="pp-item-name">Paul Martin</div>
              <div class="pp-item-email">paul@example.com</div>
            </div>
          </div>
          <div class="pp-divider"></div>
          <button class="pp-add-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
            Ajouter une partie
          </button>
          <div class="pp-divider"></div>
          <div class="pp-item" style="color:#a8a29e;">Effacer la sélection</div>
        </div>
      </div>
    </div>

    <!-- State 3: Inline creation form -->
    <div style="background:#fff;border-radius:12px;border:1px solid #e7e5e4;padding:20px;position:relative;overflow:visible;">
      <p style="font-size:10px;font-weight:700;text-transform:uppercase;color:#78716c;margin-bottom:12px;letter-spacing:.5px;">État 3 — Création inline</p>
      <div class="pp">
        <label class="field-label">Acheteur <span class="req">*</span></label>
        <div class="pp-trigger" style="border-color:#1e3a5f;box-shadow:0 0 0 3px rgba(30,58,95,.1);">
          <span class="placeholder">Sélectionner...</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2" style="transform:rotate(180deg)"><path d="M6 9l6 6 6-6"/></svg>
        </div>
        <div class="pp-dropdown" style="position:relative;top:4px;">
          <div class="pp-inline">
            <input placeholder="Nom complet" value="Isabelle Roy" autofocus>
            <input placeholder="Courriel (optionnel)" value="isabelle@example.com">
            <input placeholder="Téléphone (optionnel)" value="">
            <div class="pp-inline-actions">
              <button class="pp-inline-create">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
                Ajouter
              </button>
              <button class="pp-inline-cancel">Annuler</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Error state -->
  <div style="margin-top:24px;display:grid;grid-template-columns:1fr 1fr;gap:24px;">
    <div style="background:#fff;border-radius:12px;border:1px solid #e7e5e4;padding:20px;">
      <p style="font-size:10px;font-weight:700;text-transform:uppercase;color:#78716c;margin-bottom:12px;letter-spacing:.5px;">État 4 — Erreur validation (KO #3 fix)</p>
      <div class="pp">
        <label class="field-label">Acheteur <span class="req">*</span></label>
        <div class="pp-trigger error">
          <span class="placeholder">Sélectionner...</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
        </div>
        <div class="field-error">Sélectionnez un acheteur</div>
      </div>
    </div>
    <div style="background:#fff;border-radius:12px;border:1px solid #e7e5e4;padding:20px;position:relative;overflow:visible;">
      <p style="font-size:10px;font-weight:700;text-transform:uppercase;color:#78716c;margin-bottom:12px;letter-spacing:.5px;">État 5 — Erreur création (KO #8 fix)</p>
      <div class="pp">
        <label class="field-label">Acheteur <span class="req">*</span></label>
        <div class="pp-trigger" style="border-color:#1e3a5f;">
          <span class="placeholder">Sélectionner...</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2" style="transform:rotate(180deg)"><path d="M6 9l6 6 6-6"/></svg>
        </div>
        <div class="pp-dropdown" style="position:relative;top:4px;">
          <div class="pp-inline">
            <input placeholder="Nom complet" value="Isabelle Roy">
            <input placeholder="Courriel (optionnel)" value="">
            <input placeholder="Téléphone (optionnel)" value="">
            <div class="pp-inline-error">Échec de la création. Réessayez.</div>
            <div class="pp-inline-actions">
              <button class="pp-inline-create">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
                Ajouter
              </button>
              <button class="pp-inline-cancel">Annuler</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="scene-note">
    <strong>C2</strong> — Le PartyPicker permet de créer un buyer/seller à la volée sans quitter le modal d'offre.<br>
    <strong>KO #3 fix</strong> — Bordure rouge + message si aucune party sélectionnée au submit.<br>
    <strong>KO #8 fix</strong> — Message d'erreur rouge inline si la création échoue (plus de reset silencieux).
  </div>
</div>

<!-- ═══════════════════ SCENE 5: COUNTER-OFFER ═══════════════════ -->
<div class="scene" id="s5">
  <div class="scene-label">Contre-offre — Pré-rempli + direction inversée</div>
  <div class="scene-desc">Le modal s'ouvre avec les champs de la dernière révision, la direction inversée, et l'historique de négociation à droite.</div>

  <div class="modal" style="position:relative; max-height:none;">
    <div class="modal-head">
      <div class="modal-head-left">
        <div class="modal-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><path d="M14 2v6h6"/></svg>
        </div>
        <div style="display:flex;align-items:center;gap:8px;">
          <div class="modal-title">Contre-offre</div>
          <span class="badge" style="background:rgba(224,122,47,.15);color:#e07a2f;font-size:10px;">Révision #3</span>
        </div>
      </div>
      <button class="modal-close">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
      </button>
    </div>

    <div class="modal-body">
      <div class="modal-col-left">
        <!-- Type locked -->
        <div class="field">
          <label class="field-label">Type</label>
          <div class="segmented">
            <button class="seg-btn">Offre</button>
            <button class="seg-btn active">Contre-offre</button>
          </div>
        </div>

        <!-- Parties (pre-filled, swapped from last revision) -->
        <div class="field">
          <div class="field-row">
            <div class="pp">
              <label class="field-label">Acheteur <span class="req">*</span></label>
              <div class="pp-trigger">
                <span class="selected">Jean Tremblay</span>
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
              </div>
            </div>
            <div class="pp">
              <label class="field-label">Vendeur <span class="req">*</span></label>
              <div class="pp-trigger">
                <span class="selected">Marie Dupuis</span>
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a8a29e" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Price (pre-filled from last revision) -->
        <div class="field">
          <label class="field-label">Montant offert <span class="req">*</span></label>
          <input class="field-input" value="288 000" placeholder="0">
          <div class="field-hint">Dernière offre : 290 000 $ · Demande : 299 000 $</div>
        </div>

        <!-- Deposit -->
        <div class="field">
          <div class="field-row">
            <div>
              <label class="field-label">Dépôt</label>
              <input class="field-input" value="5 000">
            </div>
            <div>
              <label class="field-label">Échéance dépôt</label>
              <input class="field-input" type="date" value="2026-03-01">
            </div>
          </div>
        </div>

        <!-- Expiry -->
        <div class="field">
          <label class="field-label">Expiration <span class="req">*</span></label>
          <div class="pills">
            <span class="pill active">24h</span>
            <span class="pill">48h</span>
            <span class="pill">7 jours</span>
            <span class="pill">Personnalisé</span>
          </div>
        </div>

        <!-- Summary -->
        <div class="summary">
          <div class="summary-row"><span class="label">Dernière offre</span><span class="val">290 000 $</span></div>
          <div class="summary-row"><span class="label">Votre contre-offre</span><span class="val">288 000 $</span></div>
          <div class="summary-divider"></div>
          <div class="summary-row"><span class="label">Écart</span><span class="val negative">-2 000 $</span></div>
          <div class="summary-row"><span class="label">Expire</span><span class="val">dans 24h</span></div>
        </div>
      </div>

      <!-- RIGHT: History thread -->
      <div class="modal-col-right">
        <div class="section-head">Aperçu brouillon</div>
        <div class="draft">
          <div class="draft-badge">Brouillon</div>
          <div class="draft-row"><span class="label">Prix</span><span class="val">288 000 $</span></div>
          <div class="draft-row"><span class="label">Dépôt</span><span class="val">5 000 $</span></div>
          <div class="draft-row"><span class="label">Expire</span><span class="val">24h</span></div>
          <div class="draft-dir">Marie Dupuis &rarr; Jean Tremblay</div>
        </div>

        <div style="margin-top:20px;">
          <div class="section-head" style="display:flex;align-items:center;gap:6px;">
            Négociation
            <span style="background:#1e3a5f;color:#fff;font-size:10px;font-weight:700;padding:1px 6px;border-radius:20px;">2</span>
          </div>
          <div class="thread" style="padding:0;border:none;">
            <div class="thread-node">
              <div class="thread-rail"><div class="thread-dot first"></div><div class="thread-line"></div></div>
              <div class="thread-content">
                <div class="thread-label">Offre initiale</div>
                <div class="thread-price">275 000 $</div>
                <div class="thread-dir">Jean Tremblay &rarr; Marie Dupuis</div>
              </div>
            </div>
            <div class="thread-node">
              <div class="thread-rail"><div class="thread-dot last"></div></div>
              <div class="thread-content">
                <div class="thread-label latest">Contre-offre #2 <span class="tag-latest">Dernière</span></div>
                <div class="thread-price">290 000 $</div>
                <div class="thread-dir">Marie Dupuis &rarr; Jean Tremblay</div>
                <div class="thread-delta up">+15 000 $</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-foot">
      <div class="modal-foot-left">
        <input type="checkbox" checked>
        <span style="font-weight:600">Confirmation email</span>
      </div>
      <div class="modal-foot-right">
        <button class="btn btn-outline">Annuler</button>
        <button class="btn btn-primary">
          Envoyer la contre-offre
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </button>
      </div>
    </div>
  </div>

  <div class="scene-note">
    <strong>C1</strong> — Direction auto-inversée : la dernière était seller→buyer, celle-ci sera buyer→seller.<br>
    <strong>KO #5 fix</strong> — buyerPartyId/sellerPartyId convertis en fromPartyId/toPartyId selon la direction avant envoi au backend.<br>
    <strong>C6</strong> — Le titre change : "Contre-offre" + badge révision orange.
  </div>
</div>

<!-- ═══════════════════ SCENE 6: COMPARISON ═══════════════════ -->
<div class="scene" id="s6">
  <div class="scene-label">Comparateur d'offres — Vue vendeur</div>
  <div class="scene-desc">Tableau comparatif auto-ouvert quand le seller a 2+ offres actives. Met en évidence la meilleure valeur par ligne.</div>

  <div class="panel">
    <div class="panel-header">
      <div class="panel-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><path d="M14 2v6h6"/></svg>
        Offres reçues <span class="count">(3)</span>
      </div>
      <div class="panel-actions">
        <button class="btn btn-outline btn-sm" style="border-color:#1e3a5f;background:rgba(30,58,95,.05);color:#1e3a5f;">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 3H5a2 2 0 00-2 2v3M21 8V5a2 2 0 00-2-2h-3M3 16v3a2 2 0 002 2h3M16 21h3a2 2 0 002-2v-3"/></svg>
          Comparer
        </button>
      </div>
    </div>

    <div class="compare">
      <div class="compare-head">
        <h4>Comparaison des offres actives</h4>
        <span style="font-size:10px;color:#a8a29e;">3 offres</span>
      </div>
      <table>
        <thead>
          <tr>
            <th style="width:120px;"></th>
            <th>Offre #1<br><span style="font-weight:400;font-size:10px;color:#78716c;">Jean Tremblay</span></th>
            <th>Offre #2<br><span style="font-weight:400;font-size:10px;color:#78716c;">Pierre Bouchard</span></th>
            <th>Offre #3<br><span style="font-weight:400;font-size:10px;color:#78716c;">Isabelle Roy</span></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="font-weight:600;color:#44403c;">Prix</td>
            <td>285 000 $</td>
            <td class="worst">278 000 $</td>
            <td class="best">292 000 $</td>
          </tr>
          <tr>
            <td style="font-weight:600;color:#44403c;">Dépôt</td>
            <td>5 000 $</td>
            <td class="best">10 000 $</td>
            <td>5 000 $</td>
          </tr>
          <tr>
            <td style="font-weight:600;color:#44403c;">Financement</td>
            <td>228 000 $</td>
            <td>250 000 $</td>
            <td class="best">200 000 $</td>
          </tr>
          <tr>
            <td style="font-weight:600;color:#44403c;">Clôture</td>
            <td class="best">15 avr.</td>
            <td>30 avr.</td>
            <td>1 mai</td>
          </tr>
          <tr>
            <td style="font-weight:600;color:#44403c;">Expire</td>
            <td>dans 24h</td>
            <td>dans 3j</td>
            <td>dans 48h</td>
          </tr>
          <tr>
            <td style="font-weight:600;color:#44403c;">Inspection</td>
            <td>10 jours</td>
            <td>7 jours</td>
            <td class="best">Aucune</td>
          </tr>
          <tr>
            <td style="font-weight:600;color:#44403c;">Conditions</td>
            <td>2</td>
            <td>3</td>
            <td class="best">1</td>
          </tr>
        </tbody>
      </table>
      <div style="display:grid;grid-template-columns:120px 1fr 1fr 1fr;border-top:1px solid #e7e5e4;">
        <div style="padding:10px 12px;"></div>
        <div class="compare-actions"><button class="btn btn-accept btn-sm">Accepter</button></div>
        <div class="compare-actions"><button class="btn btn-accept btn-sm">Accepter</button></div>
        <div class="compare-actions"><button class="btn btn-accept btn-sm">Accepter</button></div>
      </div>
    </div>
  </div>

  <div class="scene-note">
    <strong>C6</strong> — Comparateur auto-ouvert pour le seller avec 2+ offres actives.<br>
    Les cellules vertes indiquent la meilleure valeur, les rouges la pire. CTA "Accepter" par colonne.
  </div>
</div>

<script>
function showScene(id) {
  document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  const tabs = document.querySelectorAll('.tab');
  const idx = ['s1','s2','s3','s4','s5','s6'].indexOf(id);
  if (idx >= 0) tabs[idx].classList.add('active');
}
</script>

</body>
</html>
